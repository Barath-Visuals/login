import React, { useState } from "react";
import styles from "../StyleSCSS/mobileMenu.module.scss";

export default function MobileMenu({ onSelectSection, onLogout }) {
  const [isOpen, setIsOpen] = useState(false);

  const toggleMenu = () => setIsOpen(!isOpen);

  return (
    <div className={styles.wrapper}>
      {/* Side buttons (show if menu is open) */}
      <div className={`${styles.menu} ${isOpen ? styles.open : ""}`}>
        <button onClick={() => onSelectSection("home")} className={styles.item}>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="35" viewBox="0 0 32 35" fill="none">
                <path d="M0 31V13C0 12.3667 0.142 11.7667 0.426 11.2C0.71 10.6333 1.10133 10.1667 1.6 9.8L13.6 0.8C14.3 0.266667 15.1 0 16 0C16.9 0 17.7 0.266667 18.4 0.8L30.4 9.8C30.9 10.1667 31.292 10.6333 31.576 11.2C31.86 11.7667 32.0013 12.3667 32 13V31C32 32.1 31.608 33.042 30.824 33.826C30.04 34.61 29.0987 35.0013 28 35H22C21.4333 35 20.9587 34.808 20.576 34.424C20.1933 34.04 20.0013 33.5653 20 33V23C20 22.4333 19.808 21.9587 19.424 21.576C19.04 21.1933 18.5653 21.0013 18 21H14C13.4333 21 12.9587 21.192 12.576 21.576C12.1933 21.96 12.0013 22.4347 12 23V33C12 33.5667 11.808 34.042 11.424 34.426C11.04 34.81 10.5653 35.0013 10 35H4C2.9 35 1.95867 34.6087 1.176 33.826C0.393333 33.0433 0.00133333 32.1013 0 31Z" fill="#9747FF"/>
            </svg>
        </button>
        <button onClick={() => onSelectSection("entry")} className={styles.item}>
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
                <path opacity="0.5" d="M40 16H0V34C0 35.5913 0.632141 37.1174 1.75736 38.2426C2.88258 39.3679 4.4087 40 6 40H34C35.5913 40 37.1174 39.3679 38.2426 38.2426C39.3679 37.1174 40 35.5913 40 34V16ZM10 12C9.46957 12 8.96086 11.7893 8.58579 11.4142C8.21071 11.0391 8 10.5304 8 10V2C8 1.46957 8.21071 0.960859 8.58579 0.585786C8.96086 0.210714 9.46957 0 10 0C10.5304 0 11.0391 0.210714 11.4142 0.585786C11.7893 0.960859 12 1.46957 12 2V10C12 10.5304 11.7893 11.0391 11.4142 11.4142C11.0391 11.7893 10.5304 12 10 12ZM30 12C29.4696 12 28.9609 11.7893 28.5858 11.4142C28.2107 11.0391 28 10.5304 28 10V2C28 1.46957 28.2107 0.960859 28.5858 0.585786C28.9609 0.210714 29.4696 0 30 0C30.5304 0 31.0391 0.210714 31.4142 0.585786C31.7893 0.960859 32 1.46957 32 2V10C32 10.5304 31.7893 11.0391 31.4142 11.4142C31.0391 11.7893 30.5304 12 30 12Z" fill="#9747FF"/>
                <path d="M34 4H32V10C32 10.5304 31.7893 11.0391 31.4142 11.4142C31.0391 11.7893 30.5304 12 30 12C29.4696 12 28.9609 11.7893 28.5858 11.4142C28.2107 11.0391 28 10.5304 28 10V4H12V10C12 10.5304 11.7893 11.0391 11.4142 11.4142C11.0391 11.7893 10.5304 12 10 12C9.46957 12 8.96086 11.7893 8.58579 11.4142C8.21071 11.0391 8 10.5304 8 10V4H6C4.4087 4 2.88258 4.63214 1.75736 5.75736C0.632141 6.88258 0 8.4087 0 10V16H40V10C40 8.4087 39.3679 6.88258 38.2426 5.75736C37.1174 4.63214 35.5913 4 34 4Z" fill="#9747FF"/>
            </svg>
        </button>
        <button onClick={() => onSelectSection("attendance")} className={styles.item}>
            <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 42 42" fill="none">
                <path d="M0.143066 6.57142C0.143066 4.86646 0.82036 3.23133 2.02595 2.02574C3.23154 0.820147 4.86667 0.142853 6.57164 0.142853H31.4288C33.1337 0.142853 34.7689 0.820147 35.9745 2.02574C37.1801 3.23133 37.8574 4.86646 37.8574 6.57142V19.8571C37.0613 19.2587 36.1983 18.7547 35.2859 18.3554V6.57142C35.2859 5.54845 34.8795 4.56737 34.1562 3.84401C33.4328 3.12066 32.4518 2.71428 31.4288 2.71428H6.57164C5.54866 2.71428 4.56758 3.12066 3.84423 3.84401C3.12087 4.56737 2.71449 5.54845 2.71449 6.57142V31.4286C2.71449 32.4515 3.12087 33.4326 3.84423 34.156C4.56758 34.8793 5.54866 35.2857 6.57164 35.2857H18.3556C18.7568 36.2029 19.2625 37.0651 19.8556 37.8571H6.57164C4.86667 37.8571 3.23154 37.1798 2.02595 35.9743C0.82036 34.7687 0.143066 33.1335 0.143066 31.4286V6.57142ZM31.4288 17.2857C31.7698 17.2857 32.0968 17.1503 32.3379 16.9091C32.579 16.668 32.7145 16.341 32.7145 16C32.7145 15.659 32.579 15.332 32.3379 15.0909C32.0968 14.8497 31.7698 14.7143 31.4288 14.7143H18.5716C18.2306 14.7143 17.9036 14.8497 17.6625 15.0909C17.4214 15.332 17.2859 15.659 17.2859 16C17.2859 16.341 17.4214 16.668 17.6625 16.9091C17.9036 17.1503 18.2306 17.2857 18.5716 17.2857H31.4288ZM5.28592 7.42857C5.28592 7.08757 5.42138 6.76055 5.6625 6.51943C5.90362 6.27831 6.23065 6.14285 6.57164 6.14285H31.4288C31.7698 6.14285 32.0968 6.27831 32.3379 6.51943C32.579 6.76055 32.7145 7.08757 32.7145 7.42857C32.7145 7.76956 32.579 8.09659 32.3379 8.3377C32.0968 8.57882 31.7698 8.71428 31.4288 8.71428H6.57164C6.23065 8.71428 5.90362 8.57882 5.6625 8.3377C5.42138 8.09659 5.28592 7.76956 5.28592 7.42857ZM9.57164 12.1429C8.435 12.1429 7.34491 12.5944 6.54118 13.3981C5.73745 14.2018 5.28592 15.2919 5.28592 16.4286C5.28592 17.5652 5.73745 18.6553 6.54118 19.459C7.34491 20.2628 8.435 20.7143 9.57164 20.7143C10.7083 20.7143 11.7984 20.2628 12.6021 19.459C13.4058 18.6553 13.8574 17.5652 13.8574 16.4286C13.8574 15.2919 13.4058 14.2018 12.6021 13.3981C11.7984 12.5944 10.7083 12.1429 9.57164 12.1429ZM7.85735 16.4286C7.85735 15.9739 8.03796 15.5379 8.35946 15.2164C8.68095 14.8949 9.11698 14.7143 9.57164 14.7143C10.0263 14.7143 10.4623 14.8949 10.7838 15.2164C11.1053 15.5379 11.2859 15.9739 11.2859 16.4286C11.2859 16.8832 11.1053 17.3193 10.7838 17.6408C10.4623 17.9622 10.0263 18.1429 9.57164 18.1429C9.11698 18.1429 8.68095 17.9622 8.35946 17.6408C8.03796 17.3193 7.85735 16.8832 7.85735 16.4286ZM5.28592 28.4286C5.28592 27.2919 5.73745 26.2018 6.54118 25.3981C7.34491 24.5944 8.435 24.1429 9.57164 24.1429C10.7083 24.1429 11.7984 24.5944 12.6021 25.3981C13.4058 26.2018 13.8574 27.2919 13.8574 28.4286C13.8574 29.5652 13.4058 30.6553 12.6021 31.459C11.7984 32.2628 10.7083 32.7143 9.57164 32.7143C8.435 32.7143 7.34491 32.2628 6.54118 31.459C5.73745 30.6553 5.28592 29.5652 5.28592 28.4286ZM9.57164 26.7143C9.11698 26.7143 8.68095 26.8949 8.35946 27.2164C8.03796 27.5379 7.85735 27.9739 7.85735 28.4286C7.85735 28.8832 8.03796 29.3193 8.35946 29.6408C8.68095 29.9622 9.11698 30.1429 9.57164 30.1429C10.0263 30.1429 10.4623 29.9622 10.7838 29.6408C11.1053 29.3193 11.2859 28.8832 11.2859 28.4286C11.2859 27.9739 11.1053 27.5379 10.7838 27.2164C10.4623 26.8949 10.0263 26.7143 9.57164 26.7143ZM41.2859 30.1429C41.2859 33.0981 40.1119 35.9324 38.0223 38.022C35.9326 40.1117 33.0983 41.2857 30.1431 41.2857C27.1878 41.2857 24.3536 40.1117 22.2639 38.022C20.1742 35.9324 19.0002 33.0981 19.0002 30.1429C19.0002 27.1876 20.1742 24.3534 22.2639 22.2637C24.3536 20.174 27.1878 19 30.1431 19C33.0983 19 35.9326 20.174 38.0223 22.2637C40.1119 24.3534 41.2859 27.1876 41.2859 30.1429ZM31.0002 23.2857C31.0002 23.0584 30.9099 22.8404 30.7492 22.6796C30.5884 22.5189 30.3704 22.4286 30.1431 22.4286C29.9157 22.4286 29.6977 22.5189 29.537 22.6796C29.3762 22.8404 29.2859 23.0584 29.2859 23.2857V29.2857H23.2859C23.0586 29.2857 22.8406 29.376 22.6798 29.5368C22.5191 29.6975 22.4288 29.9155 22.4288 30.1429C22.4288 30.3702 22.5191 30.5882 22.6798 30.7489C22.8406 30.9097 23.0586 31 23.2859 31H29.2859V37C29.2859 37.2273 29.3762 37.4453 29.537 37.6061C29.6977 37.7668 29.9157 37.8571 30.1431 37.8571C30.3704 37.8571 30.5884 37.7668 30.7492 37.6061C30.9099 37.4453 31.0002 37.2273 31.0002 37V31H37.0002C37.2275 31 37.4456 30.9097 37.6063 30.7489C37.767 30.5882 37.8574 30.3702 37.8574 30.1429C37.8574 29.9155 37.767 29.6975 37.6063 29.5368C37.4456 29.376 37.2275 29.2857 37.0002 29.2857H31.0002V23.2857Z" fill="#9747FF"/>
            </svg>
        </button>
        <button onClick={onLogout} className={styles.item}>
            <svg xmlns="http://www.w3.org/2000/svg" width="49" height="49" viewBox="0 0 49 49" fill="none">
                <path d="M13.2708 7.65625C12.1969 7.65625 10.7188 8.9425 10.7188 11.3741V37.6279C10.7188 40.0616 12.1969 41.3458 13.2708 41.3458H27.5543C27.9604 41.3458 28.3499 41.5071 28.6371 41.7943C28.9243 42.0815 29.0856 42.4709 29.0856 42.877C29.0856 43.2832 28.9243 43.6726 28.6371 43.9598C28.3499 44.247 27.9604 44.4083 27.5543 44.4083H13.2708C9.83471 44.4083 7.65625 40.9926 7.65625 37.6279V11.3721C7.65625 8.00742 9.83471 4.59171 13.2708 4.59171H27.5625C27.9686 4.59171 28.3581 4.75304 28.6453 5.0402C28.9324 5.32737 29.0938 5.71685 29.0938 6.12296C29.0938 6.52907 28.9324 6.91855 28.6453 7.20572C28.3581 7.49288 27.9686 7.65421 27.5625 7.65421L13.2708 7.65625Z" fill="#9747FF"/>
                <path d="M33.7489 16.2721C33.4618 15.9853 33.0726 15.8243 32.6668 15.8243C32.261 15.8243 31.8719 15.9853 31.5847 16.2721V22.9606H19.396C18.9899 22.9606 18.6004 23.1219 18.3132 23.4091C18.0261 23.6962 17.8647 24.0857 17.8647 24.4918C17.8647 24.8979 18.0261 25.2874 18.3132 25.5746C18.6004 25.8618 18.9899 26.0231 19.396 26.0231H31.5847V32.7279C31.8719 33.0147 32.261 33.1757 32.6668 33.1757C33.0726 33.1757 33.4618 33.0147 33.7489 32.7279L40.8947 25.5821C41.0375 25.4395 41.1506 25.2702 41.2277 25.0838C41.3048 24.8974 41.3443 24.6976 41.3439 24.4959V24.4918C41.3438 24.2679 41.2945 24.0467 41.1996 23.8439C41.1047 23.641 40.9665 23.4615 40.7947 23.3179L33.7489 16.2721Z" fill="#9747FF"/>
            </svg>
        </button>
      </div>

      {/* Toggle FAB */}
      <div className={`${styles.fab} ${isOpen ? styles.open : ""}`} onClick={toggleMenu}></div>
    </div>
  );
}
